{"version":3,"sources":["modules/music/index.js"],"names":["Root","styled","div","_templateObject","MusicPages","connect","clickfun","item","index","_this","props","indexSelectedFun","selectMusicFun","searchPage","selectModuleFun","history","push","this","musicAll","length","loadMusicFun","antd_lib_message__WEBPACK_IMPORTED_MODULE_5___default","a","error","_this2","_this$props","selectedMusic","selectedMusicLyric","react__WEBPACK_IMPORTED_MODULE_12___default","createElement","className","antd_lib_icon__WEBPACK_IMPORTED_MODULE_3___default","type","IconType","iBars","react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_17__","map","key","album_id","title","song_name","onClick","bind","concat","src","img","isPlay","alt","target","href","play_url","authors","author_name","album_name","time","text","antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default","shape","icon","iSearch","React","Component"],"mappings":"g7JAUA,IAAMA,EAAKC,IAAOC,IAARC,KA4KJC,EADLC,YAAQ,QAAQ,sNAKbC,SAAS,SAACC,EAAKC,GACXC,EAAKC,MAAMC,iBAAiBH,GAC5BC,EAAKC,MAAME,eAAeL,MAG9BM,WAAW,WACPJ,EAAKC,MAAMI,gBAAgB,KAC3BL,EAAKC,MAAMK,QAAQC,KAAnB,sGATAC,KAAKP,MAAMQ,SAASC,OAAO,GAAKF,KAAKP,MAAMU,aAAa,kBAAIC,EAAAC,EAAQC,MAAM,sHAYtE,IAAAC,EAAAP,KAAAQ,EAC8CR,KAAKP,MAAhDQ,EADHO,EACGP,SAASQ,EADZD,EACYC,cAAcC,EAD1BF,EAC0BE,mBAC9B,OACIC,EAAAN,EAAAO,cAAC7B,EAAD,KACI4B,EAAAN,EAAAO,cAAA,OAAKC,UAAU,oBACbF,EAAAN,EAAAO,cAAA,OAAKC,UAAU,sBACbF,EAAAN,EAAAO,cAAAE,EAAAT,EAAA,CAAMU,KAAMC,IAASC,QADvB,6BAGAN,EAAAN,EAAAO,cAACM,EAAA,WAAD,KACIP,EAAAN,EAAAO,cAAA,UAEUX,EAASkB,IAAI,SAAC7B,EAAKC,GAAN,OACToB,EAAAN,EAAAO,cAAA,MAAIQ,IAAK9B,EAAK+B,SAAUR,UAAWJ,IAAkBnB,EAAK+B,WAAWZ,EAAcY,SAAS,gBAAgB,IAAKC,MAAOhC,EAAKiC,UAAWC,QAASjB,EAAKlB,SAASoC,KAAKlB,EAAKjB,EAAKC,IAAQoB,EAAAN,EAAAO,cAAA,YAAMD,EAAAN,EAAAO,cAAA,eAAAc,OAAUnC,EAAM,EAAhB,UAA8BD,EAAKiC,iBAOnPZ,EAAAN,EAAAO,cAAA,OAAKC,UAAU,uBACXF,EAAAN,EAAAO,cAAA,OAAKC,UAAU,sBAEPJ,GACIE,EAAAN,EAAAO,cAAA,WACKD,EAAAN,EAAAO,cAAA,WACGD,EAAAN,EAAAO,cAAA,OAAKe,IAAKlB,EAAcmB,IAAKf,UAAWb,KAAKP,MAAMoC,OAAO,YAAY,GAAKC,IAAI,8BAElFnB,EAAAN,EAAAO,cAAA,cAAQD,EAAAN,EAAAO,cAAA,KAAGmB,OAAO,UAAUC,KAAMvB,EAAcwB,UAAxC,+BAMzBtB,EAAAN,EAAAO,cAAA,OAAKC,UAAU,qBAEPJ,GAAkBE,EAAAN,EAAAO,cAAA,OAAKC,UAAU,qBAC7BF,EAAAN,EAAAO,cAAA,SAAIH,EAAcc,WAClBZ,EAAAN,EAAAO,cAAA,WAAKD,EAAAN,EAAAO,cAAA,6BAAgBD,EAAAN,EAAAO,cAAA,YAAOH,EAAcyB,QAAQf,IAAI,SAAA7B,GAAI,OAAEA,EAAK6C,YAAY,QAC7ExB,EAAAN,EAAAO,cAAA,WAAKD,EAAAN,EAAAO,cAAA,6BAAgBD,EAAAN,EAAAO,cAAA,YAAOH,EAAc2B,cAI9C1B,GACIC,EAAAN,EAAAO,cAAA,OAAKC,UAAU,6BACXF,EAAAN,EAAAO,cAACM,EAAA,WAAD,KACIP,EAAAN,EAAAO,cAAA,UAEQF,EAAmBS,IAAI,SAAA7B,GAAI,OACvBqB,EAAAN,EAAAO,cAAA,MAAIQ,IAAK9B,EAAK+C,MAAM1B,EAAAN,EAAAO,cAAA,YAAOtB,EAAKgD,cAapE3B,EAAAN,EAAAO,cAAA,OAAKC,UAAU,wBACXF,EAAAN,EAAAO,cAAA2B,EAAAlC,EAAA,CAAQmC,MAAM,SAASC,KAAMzB,IAAS0B,QAASlB,QAASxB,KAAKJ,WAAW6B,KAAKzB,iBA5ExE2C,IAAMC,eAmFhBzD","file":"static/js/8.d5e6351e.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Icon,Message,Button} from 'antd'\r\nimport IconType from '@icon'\r\nimport styled from 'styled-components'\r\nimport connect from \"@connect\"\r\nimport \"./ani.css\"\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\n\r\n\r\nconst Root=styled.div`\r\n    display:flex;\r\n    align-items:center;\r\n    margin-top:20px; \r\n    height:500px;\r\n    box-sizing:border-box;\r\n    margin:50px 0 70px;\r\n    box-shadow:0px .5px 5px 0 rgba(187, 187, 187,.8);\r\n    .music-list-style{\r\n        width:20%;\r\n        height:100%;\r\n        color:#fff;\r\n        background:rgba(123,126,129,1);\r\n        display:flex;\r\n        flex-direction:column;\r\n        .music-list-hearder{\r\n            font-size:16px;\r\n            line-height:40px;\r\n            text-indent:5px;\r\n            font-weight:bolder; \r\n            border-bottom:1px solid rgb(205,205,205);;\r\n        }\r\n        ul{\r\n            color:rgb(205,205,205);\r\n            overflow-y:auto;\r\n            overflow-x: hidden;\r\n            scroll-behavior:smooth;\r\n            list-style:none;\r\n            margin-bottom:5px;\r\n            li{\r\n                width:100%;\r\n                font-size:14px;\r\n                line-height:30px;\r\n                text-overflow:ellipsis;\r\n                white-space: nowrap;\r\n                overflow: hidden;\r\n                text-indent:15px;\r\n                span{\r\n                    display:inline-block;\r\n                    width:25px;\r\n                    text-indent:0;\r\n                }\r\n            }\r\n            li:nth-child(2n+1){\r\n                border-radius:2px;\r\n                background:rgba(87,89,90,.1);\r\n            }\r\n            li:hover,li.selectedStyle{\r\n                color:#fff;\r\n                cursor:pointer;\r\n                background:rgba(35, 40, 45,.3);\r\n            } \r\n            \r\n         \r\n          \r\n        }\r\n        ul::-webkit-scrollbar{\r\n            display: none;\r\n        }\r\n       \r\n    }\r\n    .music-content-style{\r\n        width:80%;\r\n        display:flex;\r\n        box-sizing:border-box;\r\n        padding:15px;\r\n    }\r\n    .music-detail-style{\r\n        width:0;\r\n        flex:3;\r\n        border-right:1.5px solid rgba(187, 187, 187,.5);\r\n        &>div{\r\n            width:100%;\r\n            text-align:center;\r\n            display:flex;\r\n            flex-direction:column;\r\n            align-items:center;\r\n            padding-top:20px;\r\n            &>div{\r\n                width:55%;\r\n                height:0;\r\n                padding-bottom:55%;\r\n                position:relative;\r\n            }\r\n            img{\r\n                position:absolute;\r\n                top:0;\r\n                left:0;\r\n                width:100%;\r\n                height:100%;\r\n                border-radius:50%;\r\n                border:20px solid #4b4e51;\r\n            }\r\n            .activeImg{\r\n                \r\n                \r\n                -webkit-animation:aniImg 5s linear infinite forwards running;\r\n                -moz-animation:aniImg 5s linear infinite forwards running;\r\n                -o-animation:aniImg 5s linear infinite forwards running;\r\n                -ms-animation:aniImg 5s linear infinite forwards;\r\n                animation:aniImg 5s linear infinite forwards running ;\r\n            }\r\n            button{\r\n                margin-top:30px;\r\n                width:60%;\r\n                border:none;\r\n                outline:none;\r\n                background:none;\r\n                border:1px solid  rgba(187, 187, 187,.6);\r\n                line-height:25px;\r\n                border-radius:10px;\r\n                cursor:pointer;\r\n                a{\r\n                    text-derocation:none;\r\n                }\r\n            }\r\n            button:hover{\r\n                border:1px solid #1890ff;\r\n            }\r\n        }\r\n    }\r\n    .music-lyric-style{\r\n        width:0;\r\n        flex:5;\r\n        box-sizing:border-box;\r\n        padding:15px 20px;\r\n    }\r\n    .music-title-style{\r\n        p{\r\n            font-size:20px;\r\n            font-weight:bold;\r\n            margin-bottom:10px;\r\n        }\r\n        div{\r\n            font-weight:bold;\r\n            text-overflow:ellipsis;\r\n            // white-space: nowrap;\r\n            overflow: hidden;\r\n        }\r\n        span{\r\n            color:rgba(167,167,167,.85);\r\n            margin-right:5px;\r\n        }\r\n    }\r\n    .music-lyric-content-style{\r\n        height:300px;\r\n        overflow-y:hidden;\r\n        margin-top:10px;\r\n        ul{\r\n            font-size:12px;\r\n            line-height:25px;\r\n            list-style:none;\r\n            color:rgba(100,100,100,.9);\r\n            li{\r\n                width:100%;\r\n                text-overflow:ellipsis;\r\n                white-space: nowrap;\r\n                overflow: hidden;\r\n            }\r\n        }\r\n\r\n       \r\n    }\r\n    .search-control-style{\r\n        position:fixed;\r\n        right:20px;\r\n        top:220px;\r\n        font-size:20px;\r\n      \r\n    }\r\n`\r\n@connect(\"music\",\"index\")\r\nclass MusicPages extends React.Component{\r\n    componentWillMount(){\r\n        this.props.musicAll.length>0 || this.props.loadMusicFun(()=>Message.error('请求失败,可能服务器出现问题'));\r\n    }\r\n    clickfun=(item,index)=>{\r\n        this.props.indexSelectedFun(index);\r\n        this.props.selectMusicFun(item);\r\n    }\r\n    //跳转到搜索页面\r\n    searchPage=()=>{\r\n        this.props.selectModuleFun('6');\r\n        this.props.history.push(`/search/?val=`);\r\n    }\r\n    \r\n    render(){\r\n        const {musicAll,selectedMusic,selectedMusicLyric}=this.props;\r\n        return (\r\n            <Root>\r\n                <div className=\"music-list-style\">\r\n                  <div className=\"music-list-hearder\">\r\n                    <Icon type={IconType.iBars}/> 播放列表\r\n                  </div>\r\n                  <Scrollbars>\r\n                      <ul>\r\n                            {\r\n                                musicAll.map((item,index)=>(\r\n                                    <li key={item.album_id} className={selectedMusic && (item.album_id===selectedMusic.album_id?'selectedStyle':'')} title={item.song_name} onClick={this.clickfun.bind(this,item,index)}><nobr><span>{`${index+1}.`} </span>{item.song_name}</nobr></li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                  </Scrollbars>\r\n                  \r\n                </div>\r\n                <div className=\"music-content-style\">\r\n                    <div className='music-detail-style'>\r\n                        {\r\n                            selectedMusic && (\r\n                                <div>\r\n                                     <div >\r\n                                        <img src={selectedMusic.img} className={this.props.isPlay?'activeImg':''}  alt=\"歌曲图片\"/>\r\n                                     </div>\r\n                                     <button><a target=\"__blank\" href={selectedMusic.play_url}>下载音乐</a></button>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    \r\n                    </div>\r\n                    <div className='music-lyric-style'>\r\n                        {\r\n                            selectedMusic && (<div className='music-title-style'>\r\n                                <p>{selectedMusic.song_name}</p>\r\n                                <div><span>歌手:</span><nobr>{selectedMusic.authors.map(item=>item.author_name+\" \")}</nobr></div>\r\n                                <div><span>专辑:</span><nobr>{selectedMusic.album_name}</nobr></div>\r\n                            </div>)\r\n                        }  \r\n                        {\r\n                            selectedMusicLyric && (\r\n                                <div className='music-lyric-content-style'>\r\n                                    <Scrollbars>\r\n                                        <ul >\r\n                                            {\r\n                                                selectedMusicLyric.map(item=>(\r\n                                                    <li key={item.time}><nobr>{item.text}</nobr></li>\r\n                                                ))\r\n                                            }\r\n                                        </ul>\r\n                                    </Scrollbars>\r\n                                     \r\n                                </div>\r\n                               \r\n                            )\r\n                        }      \r\n                    </div>\r\n                </div>  \r\n                \r\n                <div className=\"search-control-style\">\r\n                    <Button shape=\"circle\" icon={IconType.iSearch} onClick={this.searchPage.bind(this)} />\r\n                </div>\r\n            </Root>\r\n        )\r\n        \r\n    }\r\n}\r\nexport default MusicPages;"],"sourceRoot":""}